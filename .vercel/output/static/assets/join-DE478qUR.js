import{u,a as b,r as n,j as e}from"./main-D9T9K9KV.js";import{a as p,L as h}from"./loader-circle-6RTZhKqC.js";import{A as f}from"./arrow-right-CYDvymKK.js";import"./createLucideIcon-ufO4wm03.js";function y(){const c=u(),d=b(p.sessions.joinSession),[s,m]=n.useState(""),[a,o]=n.useState(""),[i,l]=n.useState(!1),x=async r=>{if(r.preventDefault(),!s.trim()){o("Please enter a join code");return}l(!0),o("");try{const t=await d({code:s.trim().toLowerCase()});localStorage.setItem(`studentId-${t.sessionId}`,t.studentId),sessionStorage.setItem(`studentId-${t.sessionId}`,t.studentId),c({to:"/session/$sessionId",params:{sessionId:t.sessionId}})}catch(t){o(t instanceof Error?t.message:"Failed to join session"),l(!1)}};return e.jsx("div",{className:"min-h-screen bg-lavender-bg py-20 px-6 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md w-full mx-auto bg-white p-8 rounded-[2.5rem] shadow-comic border-2 border-ink relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-coral/20 rounded-bl-[100px] -z-0"}),e.jsx("h1",{className:"text-4xl font-black text-ink text-center mb-4 relative z-10",children:"Join Session"}),e.jsx("p",{className:"text-slate-500 font-bold text-center mb-10 relative z-10",children:"Enter the code from your teacher to join the lecture."}),e.jsxs("form",{onSubmit:x,className:"space-y-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",value:s,onChange:r=>m(r.target.value),placeholder:"e.g. blue-tiger-42",className:"w-full px-4 py-5 bg-white border-2 border-ink rounded-2xl text-ink placeholder-slate-300 outline-none focus:border-coral focus:shadow-comic transition-all text-center text-xl font-black font-mono"}),a&&e.jsx("p",{className:"mt-2 text-coral font-bold text-sm text-center border-2 border-coral bg-coral/10 py-2 rounded-lg",children:a})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex items-center justify-center gap-3 px-8 py-5 bg-mustard hover:bg-mustard/90 disabled:opacity-50 text-ink font-black rounded-2xl border-2 border-ink shadow-comic text-xl btn-press",children:i?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-6 h-6 animate-spin"}),"Joining..."]}):e.jsxs(e.Fragment,{children:["Join Class",e.jsx(f,{className:"w-6 h-6"})]})})]})]})})}export{y as component};
